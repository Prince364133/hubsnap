module.exports=[84609,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(15618),e=a.i(84505),f=a.i(73320),g=a.i(99464),h=a.i(81560),i=a.i(87532),j=a.i(96438),k=a.i(94988),l=a.i(62067),m=a.i(55486),n=a.i(77929),o=a.i(77892),p=a.i(70194),q=a.i(83556),r=a.i(3529);function s({open:a,onOpenChange:d,guide:e,onSuccess:f}){let[g,h]=(0,c.useState)({title:"",type:"Template",category:"",content:"",difficulty:"Beginner",premium:!1,isPublic:!0,accessType:"FREE",tags:""}),[i,l]=(0,c.useState)(!1);(0,c.useEffect)(()=>{e?h({title:e.title||"",type:e.type||"Template",category:e.category||"",content:e.content||"",difficulty:e.difficulty||"Beginner",premium:e.premium||!1,isPublic:e.isPublic??!0,accessType:e.accessType||"FREE",tags:e.tags?.join(", ")||""}):h({title:"",type:"Template",category:"",content:"",difficulty:"Beginner",premium:!1,isPublic:!0,accessType:"FREE",tags:""})},[e,a]);let m=async a=>{a.preventDefault(),l(!0);try{let a={title:g.title.trim(),type:g.type,category:g.category.trim(),content:g.content.trim(),difficulty:g.difficulty,premium:g.premium,isPublic:g.isPublic,accessType:g.accessType,tags:g.tags.split(",").map(a=>a.trim()).filter(Boolean)};e?await n.dbService.updateGuide(e.id,a)?(alert("Guide updated successfully!"),f(),d(!1)):alert("Failed to update guide"):await n.dbService.createGuide(a)?(alert("Guide created successfully!"),f(),d(!1)):alert("Failed to create guide")}catch(a){console.error("Error saving guide:",a),alert("An error occurred while saving the guide")}finally{l(!1)}};return(0,b.jsx)(p.Dialog,{open:a,onOpenChange:d,children:(0,b.jsxs)(p.DialogContent,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[(0,b.jsx)(p.DialogHeader,{children:(0,b.jsx)(p.DialogTitle,{children:e?"Edit Digital Business Idea":"Add New Idea"})}),(0,b.jsxs)("form",{onSubmit:m,className:"space-y-6",children:[(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("h3",{className:"font-semibold text-sm text-slate-700",children:"Basic Information"}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(q.Label,{htmlFor:"title",children:"Title *"}),(0,b.jsx)(k.Input,{id:"title",value:g.title,onChange:a=>h({...g,title:a.target.value}),required:!0,placeholder:"e.g., Notion Freelancer Kit"})]}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(q.Label,{htmlFor:"type",children:"Type *"}),(0,b.jsxs)("select",{id:"type",value:g.type,onChange:a=>h({...g,type:a.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary",required:!0,children:[(0,b.jsx)("option",{value:"Freelancing Kit",children:"Freelancing Kit"}),(0,b.jsx)("option",{value:"Template",children:"Template"}),(0,b.jsx)("option",{value:"Blueprint",children:"Blueprint"})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(q.Label,{htmlFor:"category",children:"Category *"}),(0,b.jsx)(k.Input,{id:"category",value:g.category,onChange:a=>h({...g,category:a.target.value}),required:!0,placeholder:"Business, Design, Tech"})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(q.Label,{htmlFor:"tags",children:"Tags (comma-separated)"}),(0,b.jsx)(k.Input,{id:"tags",value:g.tags,onChange:a=>h({...g,tags:a.target.value}),placeholder:"notion, productivity, freelance"})]})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("h3",{className:"font-semibold text-sm text-slate-700",children:"Content"}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(q.Label,{htmlFor:"content",children:"Markdown Content *"}),(0,b.jsx)(r.Textarea,{id:"content",value:g.content,onChange:a=>h({...g,content:a.target.value}),required:!0,placeholder:"# Introduction...",rows:8,className:"font-mono text-sm"})]})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("h3",{className:"font-semibold text-sm text-slate-700",children:"Settings"}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(q.Label,{htmlFor:"difficulty",children:"Difficulty"}),(0,b.jsxs)("select",{id:"difficulty",value:g.difficulty,onChange:a=>h({...g,difficulty:a.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary",children:[(0,b.jsx)("option",{value:"Beginner",children:"Beginner"}),(0,b.jsx)("option",{value:"Intermediate",children:"Intermediate"}),(0,b.jsx)("option",{value:"Advanced",children:"Advanced"})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(q.Label,{htmlFor:"accessType",children:"Access Type"}),(0,b.jsxs)("select",{id:"accessType",value:g.accessType,onChange:a=>h({...g,accessType:a.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary",children:[(0,b.jsx)("option",{value:"FREE",children:"Free"}),(0,b.jsx)("option",{value:"SUBSCRIPTION",children:"Subscription"}),(0,b.jsx)("option",{value:"ONE_TIME_PURCHASE",children:"One-time Purchase"})]})]})]}),(0,b.jsxs)("div",{className:"flex items-center gap-6 pt-2",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("input",{type:"checkbox",id:"isPublic",checked:g.isPublic,onChange:a=>h({...g,isPublic:a.target.checked}),className:"size-4 rounded border-slate-300"}),(0,b.jsx)(q.Label,{htmlFor:"isPublic",className:"cursor-pointer",children:"Public (Visible)"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("input",{type:"checkbox",id:"premium",checked:g.premium,onChange:a=>h({...g,premium:a.target.checked}),className:"size-4 rounded border-slate-300"}),(0,b.jsx)(q.Label,{htmlFor:"premium",className:"cursor-pointer",children:"Premium Only"})]})]})]}),(0,b.jsxs)(p.DialogFooter,{children:[(0,b.jsx)(j.Button,{type:"button",variant:"outline",onClick:()=>d(!1),disabled:i,children:"Cancel"}),(0,b.jsx)(j.Button,{type:"submit",disabled:i,children:i?"Saving...":e?"Update Idea":"Create Idea"})]})]})]})})}function t(){let[a,q]=(0,c.useState)([]),[r,t]=(0,c.useState)([]),[u,v]=(0,c.useState)(!0),[w,x]=(0,c.useState)(""),[y,z]=(0,c.useState)(null),[A,B]=(0,c.useState)(!1),[C,D]=(0,c.useState)(!1),[E,F]=(0,c.useState)(!1),[G,H]=(0,c.useState)(!1);(0,c.useEffect)(()=>{I()},[]),(0,c.useEffect)(()=>{J()},[w,a]);let I=async()=>{v(!0);try{let a=await n.dbService.getGuides();q(a)}catch(a){console.error("Error loading guides:",a),alert("Failed to load guides")}finally{v(!1)}},J=()=>{if(!w.trim())return void t(a);let b=w.toLowerCase();t(a.filter(a=>a.title.toLowerCase().includes(b)||a.category.toLowerCase().includes(b)||a.type.toLowerCase().includes(b)))},K=async a=>{let b=a.target.files?.[0];if(b){H(!0);try{let a=(await (0,o.parseGuidesExcelFile)(b)).filter(a=>a.title&&a.content);if(0===a.length)return void alert("No valid guides to import (Title and Content are required)");for(let b of a)await n.dbService.createGuide(b);alert(`Successfully imported ${a.length} guides!`),I()}catch(a){console.error("Import error:",a),alert("Failed to import guides: "+a.message)}finally{H(!1),a.target.value=""}}},L=async()=>{if(y)try{await n.dbService.deleteGuide(y.id),alert("Guide deleted successfully!"),F(!1),z(null),I()}catch(a){console.error("Delete error:",a),alert("Failed to delete guide")}};return(0,b.jsxs)("div",{className:"min-h-screen bg-slate-50 p-6",children:[(0,b.jsxs)("div",{className:"max-w-7xl mx-auto space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-slate-900",children:"Digital Business Ideas"}),(0,b.jsx)("p",{className:"text-slate-500 mt-1",children:"Manage idea vault and guides"})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsxs)(j.Button,{variant:"outline",onClick:()=>{(0,o.downloadGuideTemplate)()},className:"gap-2",children:[(0,b.jsx)(e.Download,{className:"size-4"}),"Download Template"]}),(0,b.jsxs)("label",{children:[(0,b.jsxs)(j.Button,{variant:"outline",className:"gap-2 cursor-pointer",disabled:G,children:[(0,b.jsx)(f.Upload,{className:"size-4"}),G?"Importing...":"Import from Excel"]}),(0,b.jsx)("input",{type:"file",accept:".xlsx,.xls",onChange:K,className:"hidden",disabled:G})]}),(0,b.jsxs)(j.Button,{onClick:()=>D(!0),className:"gap-2",children:[(0,b.jsx)(d.Plus,{className:"size-4"}),"Add Idea"]})]})]}),(0,b.jsx)(l.Card,{className:"p-6",children:(0,b.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,b.jsxs)("div",{className:"flex-1 relative",children:[(0,b.jsx)(i.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 size-5"}),(0,b.jsx)(k.Input,{placeholder:"Search by title, category, or type...",value:w,onChange:a=>x(a.target.value),className:"pl-10"})]}),(0,b.jsxs)("div",{className:"flex gap-4 text-sm",children:[(0,b.jsxs)("div",{className:"text-slate-600",children:["Total: ",(0,b.jsx)("span",{className:"font-bold text-slate-900",children:a.length})]}),(0,b.jsxs)("div",{className:"text-slate-600",children:["Showing: ",(0,b.jsx)("span",{className:"font-bold text-slate-900",children:r.length})]})]})]})}),(0,b.jsx)(l.Card,{className:"overflow-hidden",children:u?(0,b.jsxs)("div",{className:"p-12 text-center",children:[(0,b.jsx)("div",{className:"inline-block size-8 border-4 border-primary border-t-transparent rounded-full animate-spin"}),(0,b.jsx)("p",{className:"mt-4 text-slate-500",children:"Loading guides..."})]}):0===r.length?(0,b.jsx)("div",{className:"p-12 text-center",children:(0,b.jsx)("p",{className:"text-slate-400",children:"No guides found"})}):(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full",children:[(0,b.jsx)("thead",{className:"bg-slate-50 border-b border-slate-200",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Title"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Type / Category"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Visibility"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Access"}),(0,b.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Actions"})]})}),(0,b.jsx)("tbody",{className:"bg-white divide-y divide-slate-200",children:r.map(a=>(0,b.jsxs)("tr",{className:"hover:bg-slate-50",children:[(0,b.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,b.jsx)("div",{className:"font-medium text-slate-900",children:a.title}),(0,b.jsx)("div",{className:"text-sm text-slate-500 truncate max-w-xs",children:a.difficulty})]}),(0,b.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,b.jsx)("div",{className:"text-sm text-slate-900",children:a.type}),(0,b.jsx)(m.Badge,{variant:"secondary",className:"text-xs mt-1",children:a.category})]}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,b.jsx)("button",{onClick:async()=>{let b=!a.isPublic;await n.dbService.updateGuide(a.id,{isPublic:b}),I()},className:`px-2 py-1 rounded-full text-xs font-medium ${a.isPublic?"bg-green-100 text-green-700 hover:bg-green-200":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:a.isPublic?"Public":"Private"})}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,b.jsx)(m.Badge,{variant:a.premium?"secondary":"default",className:a.premium?"bg-amber-100 text-amber-800 border-amber-200":"bg-green-100 text-green-700 border-green-200",children:a.premium?"Premium":"Free"})}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:(0,b.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,b.jsx)(j.Button,{variant:"ghost",size:"sm",onClick:()=>{z(a),B(!0)},children:(0,b.jsx)(g.Pencil,{className:"size-4"})}),(0,b.jsx)(j.Button,{variant:"ghost",size:"sm",onClick:()=>{z(a),F(!0)},className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:(0,b.jsx)(h.Trash2,{className:"size-4"})})]})})]},a.id))})]})})})]}),(0,b.jsx)(p.Dialog,{open:E,onOpenChange:F,children:(0,b.jsxs)(p.DialogContent,{children:[(0,b.jsx)(p.DialogHeader,{children:(0,b.jsx)(p.DialogTitle,{children:"Delete Idea"})}),(0,b.jsxs)("p",{className:"text-slate-600",children:["Are you sure you want to delete ",(0,b.jsx)("strong",{children:y?.title}),"? This action cannot be undone."]}),(0,b.jsxs)(p.DialogFooter,{children:[(0,b.jsx)(j.Button,{variant:"outline",onClick:()=>F(!1),children:"Cancel"}),(0,b.jsx)(j.Button,{variant:"destructive",onClick:L,children:"Delete"})]})]})}),(0,b.jsx)(s,{open:A,onOpenChange:B,guide:y,onSuccess:I}),(0,b.jsx)(s,{open:C,onOpenChange:D,guide:null,onSuccess:I})]})}a.s(["default",()=>t],84609)}];

//# sourceMappingURL=src_app_website_admin_pannel_guides_page_tsx_0731f945._.js.map