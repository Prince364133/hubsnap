module.exports=[67880,a=>{"use strict";var b=a.i(87924),c=a.i(72131),d=a.i(15618),e=a.i(84505),f=a.i(73320),g=a.i(99464),h=a.i(81560),i=a.i(87532),j=a.i(96438),k=a.i(94988),l=a.i(62067),m=a.i(55486),n=a.i(77929),o=a.i(77892),p=a.i(70194),q=a.i(83556),r=a.i(3529);function s({open:a,onOpenChange:d,tool:e,onSuccess:f}){let[g,h]=(0,c.useState)({name:"",shortDesc:"",fullDesc:"",website:"",categories:"",useCases:"",pricingModel:"FREE",accessType:"FREE",platforms:"",price:"0",locked:!1,isPublic:!0}),[i,l]=(0,c.useState)(!1);(0,c.useEffect)(()=>{e?h({name:e.name||"",shortDesc:e.shortDesc||"",fullDesc:e.fullDesc||"",website:e.website||"",categories:e.categories?.join(", ")||"",useCases:e.useCases?.join(", ")||"",pricingModel:e.pricingModel||"FREE",accessType:e.accessType||"FREE",platforms:e.platforms?.join(", ")||"",price:e.price?.toString()||"0",locked:e.locked||!1,isPublic:e.isPublic??!0}):h({name:"",shortDesc:"",fullDesc:"",website:"",categories:"",useCases:"",pricingModel:"FREE",accessType:"FREE",platforms:"",price:"0",locked:!1,isPublic:!0})},[e,a]);let m=async a=>{a.preventDefault(),l(!0);try{let a={name:g.name.trim(),shortDesc:g.shortDesc.trim(),fullDesc:g.fullDesc.trim(),website:g.website.trim(),categories:g.categories.split(",").map(a=>a.trim()).filter(Boolean),useCases:g.useCases.split(",").map(a=>a.trim()).filter(Boolean),pricingModel:g.pricingModel,accessType:g.accessType,platforms:g.platforms.split(",").map(a=>a.trim()).filter(Boolean),price:parseFloat(g.price)||0,locked:g.locked,isPublic:g.isPublic};e?await n.dbService.updateTool(e.id,a)?(alert("Tool updated successfully!"),f(),d(!1)):alert("Failed to update tool"):await n.dbService.createTool(a)?(alert("Tool created successfully!"),f(),d(!1)):alert("Failed to create tool")}catch(a){console.error("Error saving tool:",a),alert("An error occurred while saving the tool")}finally{l(!1)}};return(0,b.jsx)(p.Dialog,{open:a,onOpenChange:d,children:(0,b.jsxs)(p.DialogContent,{className:"max-w-3xl max-h-[90vh] overflow-y-auto",children:[(0,b.jsx)(p.DialogHeader,{children:(0,b.jsx)(p.DialogTitle,{children:e?"Edit Tool":"Create New Tool"})}),(0,b.jsxs)("form",{onSubmit:m,className:"space-y-6",children:[(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("h3",{className:"font-semibold text-sm text-slate-700",children:"Basic Information"}),(0,b.jsxs)("div",{className:"grid grid-cols-2 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(q.Label,{htmlFor:"name",children:"Name *"}),(0,b.jsx)(k.Input,{id:"name",value:g.name,onChange:a=>h({...g,name:a.target.value}),required:!0,placeholder:"e.g., ChatGPT"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(q.Label,{htmlFor:"website",children:"Website *"}),(0,b.jsx)(k.Input,{id:"website",type:"url",value:g.website,onChange:a=>h({...g,website:a.target.value}),required:!0,placeholder:"https://example.com"})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(q.Label,{htmlFor:"shortDesc",children:"Short Description"}),(0,b.jsx)(k.Input,{id:"shortDesc",value:g.shortDesc,onChange:a=>h({...g,shortDesc:a.target.value}),placeholder:"Brief one-line description"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(q.Label,{htmlFor:"fullDesc",children:"Full Description"}),(0,b.jsx)(r.Textarea,{id:"fullDesc",value:g.fullDesc,onChange:a=>h({...g,fullDesc:a.target.value}),placeholder:"Detailed description of the tool",rows:4})]})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("h3",{className:"font-semibold text-sm text-slate-700",children:"Classification"}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(q.Label,{htmlFor:"categories",children:"Categories (comma-separated) *"}),(0,b.jsx)(k.Input,{id:"categories",value:g.categories,onChange:a=>h({...g,categories:a.target.value}),required:!0,placeholder:"Writing, Productivity, Coding"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(q.Label,{htmlFor:"useCases",children:"Use Cases (comma-separated)"}),(0,b.jsx)(k.Input,{id:"useCases",value:g.useCases,onChange:a=>h({...g,useCases:a.target.value}),placeholder:"Content Creation, Code Generation, Research"})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(q.Label,{htmlFor:"platforms",children:"Platforms (comma-separated)"}),(0,b.jsx)(k.Input,{id:"platforms",value:g.platforms,onChange:a=>h({...g,platforms:a.target.value}),placeholder:"Web, App, API"})]})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("h3",{className:"font-semibold text-sm text-slate-700",children:"Pricing"}),(0,b.jsxs)("div",{className:"grid grid-cols-3 gap-4",children:[(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(q.Label,{htmlFor:"pricingModel",children:"Pricing Model *"}),(0,b.jsxs)("select",{id:"pricingModel",value:g.pricingModel,onChange:a=>h({...g,pricingModel:a.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary",required:!0,children:[(0,b.jsx)("option",{value:"FREE",children:"Free"}),(0,b.jsx)("option",{value:"PAID",children:"Paid"}),(0,b.jsx)("option",{value:"FREE_PAID",children:"Freemium"})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(q.Label,{htmlFor:"accessType",children:"Access Type *"}),(0,b.jsxs)("select",{id:"accessType",value:g.accessType,onChange:a=>h({...g,accessType:a.target.value}),className:"w-full px-3 py-2 border border-slate-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary",required:!0,children:[(0,b.jsx)("option",{value:"FREE",children:"Free"}),(0,b.jsx)("option",{value:"SUBSCRIPTION",children:"Subscription"}),(0,b.jsx)("option",{value:"ONE_TIME_PURCHASE",children:"One-time Purchase"})]})]}),(0,b.jsxs)("div",{className:"space-y-2",children:[(0,b.jsx)(q.Label,{htmlFor:"price",children:"Price ($)"}),(0,b.jsx)(k.Input,{id:"price",type:"number",min:"0",step:"0.01",value:g.price,onChange:a=>h({...g,price:a.target.value}),placeholder:"0"})]})]})]}),(0,b.jsxs)("div",{className:"space-y-4",children:[(0,b.jsx)("h3",{className:"font-semibold text-sm text-slate-700",children:"Status"}),(0,b.jsxs)("div",{className:"flex items-center gap-6",children:[(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("input",{type:"checkbox",id:"isPublic",checked:g.isPublic,onChange:a=>h({...g,isPublic:a.target.checked}),className:"size-4 rounded border-slate-300"}),(0,b.jsx)(q.Label,{htmlFor:"isPublic",className:"cursor-pointer",children:"Public (Visible to users)"})]}),(0,b.jsxs)("div",{className:"flex items-center gap-2",children:[(0,b.jsx)("input",{type:"checkbox",id:"locked",checked:g.locked,onChange:a=>h({...g,locked:a.target.checked}),className:"size-4 rounded border-slate-300"}),(0,b.jsx)(q.Label,{htmlFor:"locked",className:"cursor-pointer",children:"Locked (Requires premium)"})]})]})]}),(0,b.jsxs)(p.DialogFooter,{children:[(0,b.jsx)(j.Button,{type:"button",variant:"outline",onClick:()=>d(!1),disabled:i,children:"Cancel"}),(0,b.jsx)(j.Button,{type:"submit",disabled:i,children:i?"Saving...":e?"Update Tool":"Create Tool"})]})]})]})})}function t(){let[a,q]=(0,c.useState)([]),[r,t]=(0,c.useState)([]),[u,v]=(0,c.useState)(!0),[w,x]=(0,c.useState)(""),[y,z]=(0,c.useState)(null),[A,B]=(0,c.useState)(!1),[C,D]=(0,c.useState)(!1),[E,F]=(0,c.useState)(!1),[G,H]=(0,c.useState)(!1);(0,c.useEffect)(()=>{I()},[]),(0,c.useEffect)(()=>{J()},[w,a]);let I=async()=>{v(!0);try{let a=await n.dbService.getTools();q(a)}catch(a){console.error("Error loading tools:",a),alert("Failed to load tools")}finally{v(!1)}},J=()=>{if(!w.trim())return void t(a);let b=w.toLowerCase();t(a.filter(a=>a.name.toLowerCase().includes(b)||a.shortDesc?.toLowerCase().includes(b)||a.categories?.some(a=>a.toLowerCase().includes(b))))},K=async a=>{let b=a.target.files?.[0];if(b){H(!0);try{let a=await (0,o.parseExcelFile)(b),{valid:c,invalid:d}=(0,o.validateToolsBatch)(a);if(d.length>0&&alert(`Found ${d.length} invalid rows:
${d.map((a,b)=>`Row ${b+2}: ${a.errors.join(", ")}`).join("\n")}`),0===c.length)return void alert("No valid tools to import");for(let a of c)await n.dbService.createTool(a);alert(`Successfully imported ${c.length} tools!`),I()}catch(a){console.error("Import error:",a),alert("Failed to import tools: "+a.message)}finally{H(!1),a.target.value=""}}},L=async()=>{if(y)try{await n.dbService.deleteTool(y.id),alert("Tool deleted successfully!"),F(!1),z(null),I()}catch(a){console.error("Delete error:",a),alert("Failed to delete tool")}};return(0,b.jsxs)("div",{className:"min-h-screen bg-slate-50 p-6",children:[(0,b.jsxs)("div",{className:"max-w-7xl mx-auto space-y-6",children:[(0,b.jsxs)("div",{className:"flex items-center justify-between",children:[(0,b.jsxs)("div",{children:[(0,b.jsx)("h1",{className:"text-3xl font-bold text-slate-900",children:"Tools Management"}),(0,b.jsx)("p",{className:"text-slate-500 mt-1",children:"Manage AI tools database"})]}),(0,b.jsxs)("div",{className:"flex gap-2",children:[(0,b.jsxs)(j.Button,{variant:"outline",onClick:()=>{(0,o.downloadTemplate)()},className:"gap-2",children:[(0,b.jsx)(e.Download,{className:"size-4"}),"Download Template"]}),(0,b.jsxs)(j.Button,{variant:"outline",onClick:()=>{(0,o.exportToolsToExcel)(a)},className:"gap-2",children:[(0,b.jsx)(e.Download,{className:"size-4"}),"Export to Excel"]}),(0,b.jsxs)("label",{children:[(0,b.jsxs)(j.Button,{variant:"outline",className:"gap-2 cursor-pointer",disabled:G,children:[(0,b.jsx)(f.Upload,{className:"size-4"}),G?"Importing...":"Import from Excel"]}),(0,b.jsx)("input",{type:"file",accept:".xlsx,.xls",onChange:K,className:"hidden",disabled:G})]}),(0,b.jsxs)(j.Button,{onClick:()=>D(!0),className:"gap-2",children:[(0,b.jsx)(d.Plus,{className:"size-4"}),"Add Tool"]})]})]}),(0,b.jsx)(l.Card,{className:"p-6",children:(0,b.jsxs)("div",{className:"flex items-center justify-between gap-4",children:[(0,b.jsxs)("div",{className:"flex-1 relative",children:[(0,b.jsx)(i.Search,{className:"absolute left-3 top-1/2 -translate-y-1/2 text-slate-400 size-5"}),(0,b.jsx)(k.Input,{placeholder:"Search tools by name, description, or category...",value:w,onChange:a=>x(a.target.value),className:"pl-10"})]}),(0,b.jsxs)("div",{className:"flex gap-4 text-sm",children:[(0,b.jsxs)("div",{className:"text-slate-600",children:["Total: ",(0,b.jsx)("span",{className:"font-bold text-slate-900",children:a.length})]}),(0,b.jsxs)("div",{className:"text-slate-600",children:["Showing: ",(0,b.jsx)("span",{className:"font-bold text-slate-900",children:r.length})]})]})]})}),(0,b.jsx)(l.Card,{className:"overflow-hidden",children:u?(0,b.jsxs)("div",{className:"p-12 text-center",children:[(0,b.jsx)("div",{className:"inline-block size-8 border-4 border-primary border-t-transparent rounded-full animate-spin"}),(0,b.jsx)("p",{className:"mt-4 text-slate-500",children:"Loading tools..."})]}):0===r.length?(0,b.jsx)("div",{className:"p-12 text-center",children:(0,b.jsx)("p",{className:"text-slate-400",children:"No tools found"})}):(0,b.jsx)("div",{className:"overflow-x-auto",children:(0,b.jsxs)("table",{className:"w-full",children:[(0,b.jsx)("thead",{className:"bg-slate-50 border-b border-slate-200",children:(0,b.jsxs)("tr",{children:[(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Name"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Categories"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Visibility"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Pricing"}),(0,b.jsx)("th",{className:"px-6 py-3 text-left text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Website"}),(0,b.jsx)("th",{className:"px-6 py-3 text-right text-xs font-medium text-slate-500 uppercase tracking-wider",children:"Actions"})]})}),(0,b.jsx)("tbody",{className:"bg-white divide-y divide-slate-200",children:r.map(a=>(0,b.jsxs)("tr",{className:"hover:bg-slate-50",children:[(0,b.jsxs)("td",{className:"px-6 py-4 whitespace-nowrap",children:[(0,b.jsx)("div",{className:"font-medium text-slate-900",children:a.name}),(0,b.jsx)("div",{className:"text-sm text-slate-500 truncate max-w-xs",children:a.shortDesc})]}),(0,b.jsx)("td",{className:"px-6 py-4",children:(0,b.jsxs)("div",{className:"flex flex-wrap gap-1",children:[a.categories?.slice(0,2).map((a,c)=>(0,b.jsx)(m.Badge,{variant:"secondary",className:"text-xs",children:a},c)),(a.categories?.length||0)>2&&(0,b.jsxs)(m.Badge,{variant:"secondary",className:"text-xs",children:["+",(a.categories?.length||0)-2]})]})}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,b.jsx)("button",{onClick:async()=>{let b=!a.isPublic;await n.dbService.updateTool(a.id,{isPublic:b}),I()},className:`px-2 py-1 rounded-full text-xs font-medium ${a.isPublic?"bg-green-100 text-green-700 hover:bg-green-200":"bg-slate-100 text-slate-700 hover:bg-slate-200"}`,children:a.isPublic?"Public":"Private"})}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,b.jsx)(m.Badge,{variant:"FREE"===a.pricingModel?"default":"secondary",className:"FREE"===a.pricingModel?"bg-green-100 text-green-700":"",children:a.pricingModel})}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap",children:(0,b.jsx)("a",{href:a.website,target:"_blank",rel:"noopener noreferrer",className:"text-primary hover:underline text-sm",children:(()=>{try{return new URL(a.website).hostname}catch{return a.website}})()})}),(0,b.jsx)("td",{className:"px-6 py-4 whitespace-nowrap text-right",children:(0,b.jsxs)("div",{className:"flex justify-end gap-2",children:[(0,b.jsx)(j.Button,{variant:"ghost",size:"sm",onClick:()=>{z(a),B(!0)},children:(0,b.jsx)(g.Pencil,{className:"size-4"})}),(0,b.jsx)(j.Button,{variant:"ghost",size:"sm",onClick:()=>{z(a),F(!0)},className:"text-red-600 hover:text-red-700 hover:bg-red-50",children:(0,b.jsx)(h.Trash2,{className:"size-4"})})]})})]},a.id))})]})})})]}),(0,b.jsx)(p.Dialog,{open:E,onOpenChange:F,children:(0,b.jsxs)(p.DialogContent,{children:[(0,b.jsx)(p.DialogHeader,{children:(0,b.jsx)(p.DialogTitle,{children:"Delete Tool"})}),(0,b.jsxs)("p",{className:"text-slate-600",children:["Are you sure you want to delete ",(0,b.jsx)("strong",{children:y?.name}),"? This action cannot be undone."]}),(0,b.jsxs)(p.DialogFooter,{children:[(0,b.jsx)(j.Button,{variant:"outline",onClick:()=>F(!1),children:"Cancel"}),(0,b.jsx)(j.Button,{variant:"destructive",onClick:L,children:"Delete"})]})]})}),(0,b.jsx)(s,{open:A,onOpenChange:B,tool:y,onSuccess:I}),(0,b.jsx)(s,{open:C,onOpenChange:D,tool:null,onSuccess:I})]})}a.s(["default",()=>t],67880)}];

//# sourceMappingURL=src_app_website_admin_pannel_tools_page_tsx_5cbec574._.js.map